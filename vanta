-- Vanta Redux UI Library
-- A premium, cross-platform (Mobile/PC) UI Library
-- Optimized for performance and aesthetics.

local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local HttpService = game:GetService("HttpService")

local Vanta = {}

--// Configuration & Theme
Vanta.Settings = {
	Name = "Vanta Redux",
	Keybind = Enum.KeyCode.RightControl,
	Theme = {
		Background = Color3.fromRGB(15, 15, 15),
		Sidebar = Color3.fromRGB(20, 20, 20),
		Element = Color3.fromRGB(25, 25, 25),
		Text = Color3.fromRGB(240, 240, 240),
		TextDark = Color3.fromRGB(150, 150, 150),
		Accent = Color3.fromRGB(255, 55, 55), -- Vanta Red
		Outline = Color3.fromRGB(40, 40, 40)
	}
}

--// Services & Utility
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

local function GetParent()
	-- Safety check for executors vs Studio
	local success, result = pcall(function()
		return gethui()
	end)
	if success and result then return result end
	
	if syn and syn.protect_gui then
		local gui = Instance.new("ScreenGui")
		gui.Name = math.random(10000,99999)
		syn.protect_gui(gui)
		gui.Parent = CoreGui
		return gui
	elseif CoreGui:FindFirstChild("RobloxGui") then
		return CoreGui
	end
	return LocalPlayer:WaitForChild("PlayerGui")
end

local function Tween(obj, props, time, style, dir)
	time = time or 0.2
	style = style or Enum.EasingStyle.Quart
	dir = dir or Enum.EasingDirection.Out
	TweenService:Create(obj, TweenInfo.new(time, style, dir), props):Play()
end

local function MakeDraggable(topbar, widget)
	local dragging, dragInput, dragStart, startPos

	local function update(input)
		local delta = input.Position - dragStart
		local targetPos = UDim2.new(
			startPos.X.Scale, 
			startPos.X.Offset + delta.X, 
			startPos.Y.Scale, 
			startPos.Y.Offset + delta.Y
		)
		Tween(widget, {Position = targetPos}, 0.1)
	end

	topbar.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = widget.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	topbar.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end
	end)
end

--// Main Library Functions

function Vanta:Window(options)
	options = options or {}
	local titleText = options.Name or "Vanta Redux"
	local hideKey = options.Keybind or Vanta.Settings.Keybind
	
	-- Parent GUI
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "VantaUI_" .. math.random(1000,9999)
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	ScreenGui.Parent = GetParent()
	
	-- Notification Container
	local NotifyContainer = Instance.new("Frame")
	NotifyContainer.Name = "Notifications"
	NotifyContainer.Parent = ScreenGui
	NotifyContainer.BackgroundTransparency = 1
	NotifyContainer.Position = UDim2.new(1, -320, 1, -20) -- Bottom Right
	NotifyContainer.AnchorPoint = Vector2.new(1, 1)
	NotifyContainer.Size = UDim2.new(0, 300, 1, 0)
	
	local NotifyLayout = Instance.new("UIListLayout")
	NotifyLayout.Parent = NotifyContainer
	NotifyLayout.SortOrder = Enum.SortOrder.LayoutOrder
	NotifyLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom
	NotifyLayout.Padding = UDim.new(0, 5)

	-- Main Window Frame
	local Main = Instance.new("Frame")
	Main.Name = "Main"
	Main.Parent = ScreenGui
	Main.BackgroundColor3 = Vanta.Settings.Theme.Background
	Main.BorderSizePixel = 0
	Main.Position = UDim2.new(0.5, -300, 0.5, -200)
	Main.Size = UDim2.new(0, 600, 0, 400)
	Main.ClipsDescendants = true
	
	-- Mobile Scaling
	if UserInputService.TouchEnabled then
		Main.Size = UDim2.new(0, 500, 0, 350)
		Main.Position = UDim2.new(0.5, -250, 0.5, -175)
	end

	local MainCorner = Instance.new("UICorner")
	MainCorner.CornerRadius = UDim.new(0, 8)
	MainCorner.Parent = Main

	local MainStroke = Instance.new("UIStroke")
	MainStroke.Color = Vanta.Settings.Theme.Outline
	MainStroke.Thickness = 1
	MainStroke.Parent = Main
	
	-- Sidebar
	local Sidebar = Instance.new("Frame")
	Sidebar.Name = "Sidebar"
	Sidebar.Parent = Main
	Sidebar.BackgroundColor3 = Vanta.Settings.Theme.Sidebar
	Sidebar.Size = UDim2.new(0, 150, 1, 0)
	Sidebar.BorderSizePixel = 0
	
	local SidebarCorner = Instance.new("UICorner")
	SidebarCorner.CornerRadius = UDim.new(0, 8)
	SidebarCorner.Parent = Sidebar
	
	-- Fix Sidebar Corner Overlap
	local FixPatch = Instance.new("Frame")
	FixPatch.Parent = Sidebar
	FixPatch.BackgroundColor3 = Vanta.Settings.Theme.Sidebar
	FixPatch.BorderSizePixel = 0
	FixPatch.Size = UDim2.new(0, 10, 1, 0)
	FixPatch.Position = UDim2.new(1, -10, 0, 0)
	
	-- Title
	local TitleLabel = Instance.new("TextLabel")
	TitleLabel.Parent = Sidebar
	TitleLabel.BackgroundTransparency = 1
	TitleLabel.Position = UDim2.new(0, 10, 0, 15)
	TitleLabel.Size = UDim2.new(1, -20, 0, 30)
	TitleLabel.Font = Enum.Font.GothamBold
	TitleLabel.Text = titleText
	TitleLabel.TextColor3 = Vanta.Settings.Theme.Accent
	TitleLabel.TextSize = 22
	TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

	-- Tab Buttons Container
	local TabContainer = Instance.new("ScrollingFrame")
	TabContainer.Parent = Sidebar
	TabContainer.BackgroundTransparency = 1
	TabContainer.Position = UDim2.new(0, 0, 0, 60)
	TabContainer.Size = UDim2.new(1, 0, 1, -70)
	TabContainer.CanvasSize = UDim2.new(0,0,0,0)
	TabContainer.ScrollBarThickness = 2
	
	local TabLayout = Instance.new("UIListLayout")
	TabLayout.Parent = TabContainer
	TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
	TabLayout.Padding = UDim.new(0, 5)

	-- Page Container
	local Pages = Instance.new("Frame")
	Pages.Name = "Pages"
	Pages.Parent = Main
	Pages.BackgroundTransparency = 1
	Pages.Position = UDim2.new(0, 160, 0, 10)
	Pages.Size = UDim2.new(1, -170, 1, -20)

	MakeDraggable(Sidebar, Main)

	-- Mobile Toggle Button
	if UserInputService.TouchEnabled then
		local MobileBtn = Instance.new("TextButton")
		MobileBtn.Name = "VantaMobile"
		MobileBtn.Parent = ScreenGui
		MobileBtn.BackgroundColor3 = Vanta.Settings.Theme.Background
		MobileBtn.Position = UDim2.new(0.5, -25, 0, 10)
		MobileBtn.Size = UDim2.new(0, 50, 0, 50)
		MobileBtn.Text = "V"
		MobileBtn.TextColor3 = Vanta.Settings.Theme.Accent
		MobileBtn.Font = Enum.Font.GothamBold
		MobileBtn.TextSize = 30
		
		local MCorner = Instance.new("UICorner")
		MCorner.CornerRadius = UDim.new(1, 0)
		MCorner.Parent = MobileBtn
		
		local MStroke = Instance.new("UIStroke")
		MStroke.Color = Vanta.Settings.Theme.Accent
		MStroke.Thickness = 2
		MStroke.Parent = MobileBtn
		
		MobileBtn.MouseButton1Click:Connect(function()
			Main.Visible = not Main.Visible
		end)
	end
	
	-- Keyboard Toggle
	UserInputService.InputBegan:Connect(function(input, gpe)
		if input.KeyCode == hideKey and not gpe then
			Main.Visible = not Main.Visible
		end
	end)
	
	--// Notification Function
	local function Notify(title, text, duration)
		local NotifFrame = Instance.new("Frame")
		NotifFrame.Parent = NotifyContainer
		NotifFrame.BackgroundColor3 = Vanta.Settings.Theme.Sidebar
		NotifFrame.Size = UDim2.new(1, 0, 0, 60)
		NotifFrame.Position = UDim2.new(1, 10, 0, 0) -- Start off screen
		
		local NCorner = Instance.new("UICorner")
		NCorner.CornerRadius = UDim.new(0, 6)
		NCorner.Parent = NotifFrame
		
		local NStroke = Instance.new("UIStroke")
		NStroke.Color = Vanta.Settings.Theme.Outline
		NStroke.Parent = NotifFrame
		
		local NTitle = Instance.new("TextLabel")
		NTitle.Parent = NotifFrame
		NTitle.BackgroundTransparency = 1
		NTitle.Position = UDim2.new(0, 10, 0, 5)
		NTitle.Size = UDim2.new(1, -20, 0, 20)
		NTitle.Font = Enum.Font.GothamBold
		NTitle.Text = title
		NTitle.TextColor3 = Vanta.Settings.Theme.Accent
		NTitle.TextSize = 14
		NTitle.TextXAlignment = Enum.TextXAlignment.Left
		
		local NText = Instance.new("TextLabel")
		NText.Parent = NotifFrame
		NText.BackgroundTransparency = 1
		NText.Position = UDim2.new(0, 10, 0, 25)
		NText.Size = UDim2.new(1, -20, 0, 30)
		NText.Font = Enum.Font.Gotham
		NText.Text = text
		NText.TextColor3 = Vanta.Settings.Theme.Text
		NText.TextSize = 12
		NText.TextXAlignment = Enum.TextXAlignment.Left
		NText.TextWrapped = true

		-- Animate In
		Tween(NotifFrame, {Position = UDim2.new(0, 0, 0, 0)}, 0.3)
		
		task.delay(duration or 3, function()
			Tween(NotifFrame, {BackgroundTransparency = 1}, 0.5)
			Tween(NTitle, {TextTransparency = 1}, 0.5)
			Tween(NText, {TextTransparency = 1}, 0.5)
			Tween(NStroke, {Transparency = 1}, 0.5)
			wait(0.5)
			NotifFrame:Destroy()
		end)
	end
	
	--// Window Object
	local WindowHandler = {}
	
	function WindowHandler:Notification(title, text, duration)
		Notify(title, text, duration)
	end

	local firstTab = true

	function WindowHandler:Tab(name)
		-- Tab Button
		local TabBtn = Instance.new("TextButton")
		TabBtn.Name = name .. "_Btn"
		TabBtn.Parent = TabContainer
		TabBtn.BackgroundColor3 = Vanta.Settings.Theme.Sidebar
		TabBtn.BackgroundTransparency = 1
		TabBtn.Size = UDim2.new(1, 0, 0, 35)
		TabBtn.Font = Enum.Font.GothamBold
		TabBtn.Text = name
		TabBtn.TextColor3 = Vanta.Settings.Theme.TextDark
		TabBtn.TextSize = 14
		
		local TabIndicator = Instance.new("Frame")
		TabIndicator.Parent = TabBtn
		TabIndicator.BackgroundColor3 = Vanta.Settings.Theme.Accent
		TabIndicator.BorderSizePixel = 0
		TabIndicator.Position = UDim2.new(0, 0, 0, 5)
		TabIndicator.Size = UDim2.new(0, 3, 1, -10)
		TabIndicator.Visible = false

		-- Tab Page
		local Page = Instance.new("ScrollingFrame")
		Page.Name = name .. "_Page"
		Page.Parent = Pages
		Page.BackgroundTransparency = 1
		Page.Size = UDim2.new(1, 0, 1, 0)
		Page.CanvasSize = UDim2.new(0, 0, 0, 0)
		Page.ScrollBarThickness = 2
		Page.Visible = false
		
		local PageLayout = Instance.new("UIListLayout")
		PageLayout.Parent = Page
		PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
		PageLayout.Padding = UDim.new(0, 5)
		
		PageLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			Page.CanvasSize = UDim2.new(0, 0, 0, PageLayout.AbsoluteContentSize.Y + 20)
		end)

		-- Switch Function
		local function Activate()
			-- Deactivate all
			for _, child in pairs(TabContainer:GetChildren()) do
				if child:IsA("TextButton") then
					Tween(child, {TextColor3 = Vanta.Settings.Theme.TextDark})
					child.Frame.Visible = false
				end
			end
			for _, child in pairs(Pages:GetChildren()) do
				if child:IsA("ScrollingFrame") then
					child.Visible = false
				end
			end
			
			-- Activate current
			Tween(TabBtn, {TextColor3 = Vanta.Settings.Theme.Text})
			TabIndicator.Visible = true
			Page.Visible = true
		end
		
		TabBtn.MouseButton1Click:Connect(Activate)
		
		if firstTab then
			firstTab = false
			Activate()
		end
		
		--// Elements
		local TabHandler = {}
		
		function TabHandler:Label(text)
			local Label = Instance.new("TextLabel")
			Label.Parent = Page
			Label.BackgroundColor3 = Vanta.Settings.Theme.Element
			Label.BackgroundTransparency = 1
			Label.Size = UDim2.new(1, 0, 0, 30)
			Label.Font = Enum.Font.GothamBold
			Label.Text = text
			Label.TextColor3 = Vanta.Settings.Theme.Text
			Label.TextSize = 14
			Label.TextXAlignment = Enum.TextXAlignment.Left
			
			local Pad = Instance.new("UIPadding")
			Pad.PaddingLeft = UDim.new(0, 10)
			Pad.Parent = Label
		end

		function TabHandler:Button(text, callback)
			callback = callback or function() end
			
			local Btn = Instance.new("TextButton")
			Btn.Parent = Page
			Btn.BackgroundColor3 = Vanta.Settings.Theme.Element
			Btn.Size = UDim2.new(1, 0, 0, 40)
			Btn.AutoButtonColor = false
			Btn.Font = Enum.Font.Gotham
			Btn.Text = text
			Btn.TextColor3 = Vanta.Settings.Theme.Text
			Btn.TextSize = 14
			
			local BCorner = Instance.new("UICorner")
			BCorner.CornerRadius = UDim.new(0, 6)
			BCorner.Parent = Btn
			
			local BStroke = Instance.new("UIStroke")
			BStroke.Color = Vanta.Settings.Theme.Outline
			BStroke.Parent = Btn
			
			Btn.MouseEnter:Connect(function()
				Tween(BStroke, {Color = Vanta.Settings.Theme.Accent})
			end)
			
			Btn.MouseLeave:Connect(function()
				Tween(BStroke, {Color = Vanta.Settings.Theme.Outline})
			end)
			
			Btn.MouseButton1Click:Connect(function()
				local ripple = Instance.new("Frame")
				ripple.BackgroundColor3 = Color3.new(1,1,1)
				ripple.BackgroundTransparency = 0.8
				ripple.Size = UDim2.new(0,0,0,0)
				ripple.Position = UDim2.new(0.5,0,0.5,0)
				ripple.AnchorPoint = Vector2.new(0.5,0.5)
				ripple.Parent = Btn
				
				local corner = Instance.new("UICorner")
				corner.CornerRadius = UDim.new(1,0)
				corner.Parent = ripple
				
				Tween(ripple, {Size = UDim2.new(1.5,0,2.5,0), BackgroundTransparency = 1}, 0.3)
				task.delay(0.3, function() ripple:Destroy() end)
				
				callback()
			end)
		end
		
		function TabHandler:Toggle(text, default, callback)
			callback = callback or function() end
			local toggled = default or false
			
			local TogFrame = Instance.new("TextButton")
			TogFrame.Parent = Page
			TogFrame.BackgroundColor3 = Vanta.Settings.Theme.Element
			TogFrame.Size = UDim2.new(1, 0, 0, 40)
			TogFrame.AutoButtonColor = false
			TogFrame.Text = ""
			
			local TCorner = Instance.new("UICorner")
			TCorner.CornerRadius = UDim.new(0, 6)
			TCorner.Parent = TogFrame
			
			local Text = Instance.new("TextLabel")
			Text.Parent = TogFrame
			Text.BackgroundTransparency = 1
			Text.Position = UDim2.new(0, 10, 0, 0)
			Text.Size = UDim2.new(1, -60, 1, 0)
			Text.Font = Enum.Font.Gotham
			Text.Text = text
			Text.TextColor3 = Vanta.Settings.Theme.Text
			Text.TextSize = 14
			Text.TextXAlignment = Enum.TextXAlignment.Left
			
			local Switch = Instance.new("Frame")
			Switch.Parent = TogFrame
			Switch.BackgroundColor3 = toggled and Vanta.Settings.Theme.Accent or Color3.fromRGB(50,50,50)
			Switch.Position = UDim2.new(1, -50, 0.5, -10)
			Switch.Size = UDim2.new(0, 40, 0, 20)
			
			local SCorner = Instance.new("UICorner")
			SCorner.CornerRadius = UDim.new(1, 0)
			SCorner.Parent = Switch
			
			local Dot = Instance.new("Frame")
			Dot.Parent = Switch
			Dot.BackgroundColor3 = Color3.fromRGB(255,255,255)
			Dot.Position = toggled and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
			Dot.Size = UDim2.new(0, 16, 0, 16)
			
			local DCorner = Instance.new("UICorner")
			DCorner.CornerRadius = UDim.new(1, 0)
			DCorner.Parent = Dot
			
			TogFrame.MouseButton1Click:Connect(function()
				toggled = not toggled
				
				if toggled then
					Tween(Switch, {BackgroundColor3 = Vanta.Settings.Theme.Accent})
					Tween(Dot, {Position = UDim2.new(1, -18, 0.5, -8)})
				else
					Tween(Switch, {BackgroundColor3 = Color3.fromRGB(50,50,50)})
					Tween(Dot, {Position = UDim2.new(0, 2, 0.5, -8)})
				end
				
				callback(toggled)
			end)
		end
		
		function TabHandler:Slider(text, min, max, default, callback)
			callback = callback or function() end
			local value = default or min
			local dragging = false
			
			local SlideFrame = Instance.new("Frame")
			SlideFrame.Parent = Page
			SlideFrame.BackgroundColor3 = Vanta.Settings.Theme.Element
			SlideFrame.Size = UDim2.new(1, 0, 0, 50)
			
			local SCorner = Instance.new("UICorner")
			SCorner.CornerRadius = UDim.new(0, 6)
			SCorner.Parent = SlideFrame
			
			local Title = Instance.new("TextLabel")
			Title.Parent = SlideFrame
			Title.BackgroundTransparency = 1
			Title.Position = UDim2.new(0, 10, 0, 5)
			Title.Size = UDim2.new(1, -20, 0, 20)
			Title.Font = Enum.Font.Gotham
			Title.Text = text
			Title.TextColor3 = Vanta.Settings.Theme.Text
			Title.TextSize = 14
			Title.TextXAlignment = Enum.TextXAlignment.Left
			
			local ValueLabel = Instance.new("TextLabel")
			ValueLabel.Parent = SlideFrame
			ValueLabel.BackgroundTransparency = 1
			ValueLabel.Position = UDim2.new(0, 10, 0, 5)
			ValueLabel.Size = UDim2.new(1, -20, 0, 20)
			ValueLabel.Font = Enum.Font.Gotham
			ValueLabel.Text = tostring(value)
			ValueLabel.TextColor3 = Vanta.Settings.Theme.TextDark
			ValueLabel.TextSize = 14
			ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
			
			local Bar = Instance.new("TextButton")
			Bar.Parent = SlideFrame
			Bar.BackgroundColor3 = Color3.fromRGB(40,40,40)
			Bar.Position = UDim2.new(0, 10, 0, 30)
			Bar.Size = UDim2.new(1, -20, 0, 6)
			Bar.AutoButtonColor = false
			Bar.Text = ""
			
			local BarCorner = Instance.new("UICorner")
			BarCorner.Parent = Bar
			
			local Fill = Instance.new("Frame")
			Fill.Parent = Bar
			Fill.BackgroundColor3 = Vanta.Settings.Theme.Accent
			Fill.Size = UDim2.new((value - min) / (max - min), 0, 1, 0)
			
			local FillCorner = Instance.new("UICorner")
			FillCorner.Parent = Fill
			
			local function Update(input)
				local pos = UDim2.new(math.clamp((input.Position.X - Bar.AbsolutePosition.X) / Bar.AbsoluteSize.X, 0, 1), 0, 1, 0)
				Fill.Size = pos
				
				local val = math.floor(min + ((max - min) * pos.X.Scale))
				ValueLabel.Text = tostring(val)
				callback(val)
			end
			
			Bar.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					dragging = true
					Update(input)
				end
			end)
			
			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					dragging = false
				end
			end)
			
			UserInputService.InputChanged:Connect(function(input)
				if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
					Update(input)
				end
			end)
		end
		
		function TabHandler:Dropdown(text, options, callback)
			callback = callback or function() end
			local dropped = false
			
			local DropContainer = Instance.new("Frame")
			DropContainer.Parent = Page
			DropContainer.BackgroundColor3 = Vanta.Settings.Theme.Element
			DropContainer.Size = UDim2.new(1, 0, 0, 40)
			DropContainer.ClipsDescendants = true
			
			local DCorner = Instance.new("UICorner")
			DCorner.CornerRadius = UDim.new(0, 6)
			DCorner.Parent = DropContainer
			
			local HeaderBtn = Instance.new("TextButton")
			HeaderBtn.Parent = DropContainer
			HeaderBtn.BackgroundTransparency = 1
			HeaderBtn.Size = UDim2.new(1, 0, 0, 40)
			HeaderBtn.Font = Enum.Font.Gotham
			HeaderBtn.Text = text .. " +"
			HeaderBtn.TextColor3 = Vanta.Settings.Theme.Text
			HeaderBtn.TextSize = 14
			
			local OptionList = Instance.new("UIListLayout")
			OptionList.Parent = DropContainer
			OptionList.SortOrder = Enum.SortOrder.LayoutOrder
			OptionList.Padding = UDim.new(0, 2)
			
			-- Placeholder for layout
			local Placeholder = Instance.new("Frame")
			Placeholder.Parent = DropContainer
			Placeholder.Size = UDim2.new(1,0,0,40)
			Placeholder.BackgroundTransparency = 1
			Placeholder.LayoutOrder = -1
			
			local function RefreshOptions()
				for _, v in pairs(DropContainer:GetChildren()) do
					if v:IsA("TextButton") and v ~= HeaderBtn then
						v:Destroy()
					end
				end
				
				for _, opt in pairs(options) do
					local OptBtn = Instance.new("TextButton")
					OptBtn.Parent = DropContainer
					OptBtn.BackgroundColor3 = Color3.fromRGB(35,35,35)
					OptBtn.Size = UDim2.new(1, -10, 0, 30)
					OptBtn.Font = Enum.Font.Gotham
					OptBtn.Text = opt
					OptBtn.TextColor3 = Vanta.Settings.Theme.TextDark
					OptBtn.TextSize = 13
					
					local OCorner = Instance.new("UICorner")
					OCorner.CornerRadius = UDim.new(0, 4)
					OCorner.Parent = OptBtn
					
					OptBtn.MouseButton1Click:Connect(function()
						dropped = false
						HeaderBtn.Text = text .. ": " .. opt
						Tween(DropContainer, {Size = UDim2.new(1, 0, 0, 40)}, 0.2)
						callback(opt)
					end)
				end
			end
			
			RefreshOptions()
			
			HeaderBtn.MouseButton1Click:Connect(function()
				dropped = not dropped
				if dropped then
					local count = #options
					Tween(DropContainer, {Size = UDim2.new(1, 0, 0, 40 + (count * 32) + 5)}, 0.2)
					HeaderBtn.Text = text .. " -"
				else
					Tween(DropContainer, {Size = UDim2.new(1, 0, 0, 40)}, 0.2)
					HeaderBtn.Text = text .. " +"
				end
			end)
		end
		
		function TabHandler:Textbox(text, placeholder, callback)
			callback = callback or function() end

			local BoxFrame = Instance.new("Frame")
			BoxFrame.Parent = Page
			BoxFrame.BackgroundColor3 = Vanta.Settings.Theme.Element
			BoxFrame.Size = UDim2.new(1, 0, 0, 40)
			
			local BCorner = Instance.new("UICorner")
			BCorner.CornerRadius = UDim.new(0, 6)
			BCorner.Parent = BoxFrame
			
			local Label = Instance.new("TextLabel")
			Label.Parent = BoxFrame
			Label.BackgroundTransparency = 1
			Label.Position = UDim2.new(0, 10, 0, 0)
			Label.Size = UDim2.new(0.4, 0, 1, 0)
			Label.Font = Enum.Font.Gotham
			Label.Text = text
			Label.TextColor3 = Vanta.Settings.Theme.Text
			Label.TextSize = 14
			Label.TextXAlignment = Enum.TextXAlignment.Left
			
			local Box = Instance.new("TextBox")
			Box.Parent = BoxFrame
			Box.BackgroundColor3 = Color3.fromRGB(40,40,40)
			Box.Position = UDim2.new(0.5, 0, 0.15, 0)
			Box.Size = UDim2.new(0.45, 0, 0.7, 0)
			Box.Font = Enum.Font.Gotham
			Box.PlaceholderText = placeholder or "Value..."
			Box.Text = ""
			Box.TextColor3 = Vanta.Settings.Theme.Text
			Box.TextSize = 13
			
			local BoxCorner = Instance.new("UICorner")
			BoxCorner.CornerRadius = UDim.new(0, 4)
			BoxCorner.Parent = Box
			
			Box.FocusLost:Connect(function(enterPressed)
				callback(Box.Text)
			end)
		end
		
		return TabHandler
	end
	
	return WindowHandler
end

return Vanta

